@model AmazonClone.MVC.Models.ViewModel.Product;

<div class="product-details">
    <h1>@Model.Name</h1>
    <img src="@Model.ImageUrl" alt="@Model.Name" class="img-fluid" />

    <div class="price">Price: $@Model.Price.ToString("0.00")</div>

    <div class="description">
        <h3>Description</h3>
        <p>@Model.Description</p>
    </div>

   @*  <div class="categories mb-3">
        <span class="badge bg-primary">@Model.CategoryName</span>
        @if (!string.IsNullOrEmpty(Model.SubCategoryName))
        {
            <span class="badge bg-secondary">@Model.SubCategoryName</span>
        }
    </div> *@

    <!-- Action Buttons -->
    <div class="action-buttons d-flex gap-3">
        <button id="addToCart" class="btn btn-primary">
            <i class="fas fa-shopping-cart me-2"></i>Add to Cart
        </button>
        <button id="buyNow" class="btn btn-warning">
            <i class="fas fa-shopping-cart me-2"></i>Buy Now
        </button>
        <button id="addToWishlist" class="btn btn-outline-danger">
            <i class="fas fa-heart me-2"></i>Add to Wishlist
        </button>
    </div>
</div>

<style>
    .product-details {
        max-width: 600px;
        margin: 20px auto;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .price {
        font-size: 1.5rem;
        font-weight: bold;
        margin: 10px 0;
        color: #d32f2f; /* Red accent */
    }

    .img-fluid {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
        margin-bottom: 15px;
    }

    .action-buttons .btn {
        flex: 1;
        padding: 10px;
    }
</style>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

   @*  < script src = "https://code.jquery.com/jquery-3.6.0.min.js" ></script >
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script> *@

            <script>
                $(document).ready(function () {
                    $.ajaxSetup({
                        headers: {
                            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                        }
                    });

                // Add to Cart
                $("#addToCart").click(function () {
            var $button = $(this);
                $button.prop('disabled', true);
                $.post("/Cart/Add", {productId: @Model.Id }, function (data) {
                    toastr.success('Added to cart!');
                $button.prop('disabled', false);
            }).fail(function () {
                    toastr.error('Failed to add to cart.');
                $button.prop('disabled', false);
            });
        });

                // Add to Wishlist
                $("#addToWishlist").click(function () {
            var $button = $(this);
                $button.prop('disabled', true);
                $.post("/Wishlist/Add", {productId: @Model.Id }, function (data) {
                    toastr.success('Added to wishlist!');
                $button.prop('disabled', false);
            }).fail(function () {
                    toastr.error('Failed to add to wishlist.');
                $button.prop('disabled', false);
            });
        });
    });
            </script>

}

